(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6edc1a4"],{"39d1":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page",style:{height:0==e.total1?"400px":"auto"}},[e.total1?a("el-pagination",{attrs:{"current-page":e.pagenum,"page-sizes":[3,5,10,15,20],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total1},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):a("el-empty",{attrs:{description:"暂无数据"}})],1)},r=[],s=(a("96cf"),a("1da1")),i={name:"paginationPage",props:["total1","pagenum1","pagesize1"],data:function(){return{pagenum:this.pagenum1,pagesize:this.pagesize1}},methods:{handleSizeChange:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.pagesize=e,t.$emit("pageChange",{pagenum:t.pagenum,pagesize:t.pagesize});case 2:case"end":return a.stop()}}),a)})))()},handleCurrentChange:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.pagenum=e,t.$emit("pageChange",{pagenum:t.pagenum,pagesize:t.pagesize});case 2:case"end":return a.stop()}}),a)})))()}}},o=i,c=(a("b139"),a("2877")),u=Object(c["a"])(o,n,r,!1,null,null,null);t["a"]=u.exports},"44a5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-input",{style:{width:"30%"},attrs:{placeholder:"请输入搜索内容"},on:{change:e.getUserList},model:{value:e.searchvalue,callback:function(t){e.searchvalue=t},expression:"searchvalue"}}),a("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.getUserList}},[e._v("搜索")]),a("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.add}},[e._v("添加用户")])],1),a("div",[e.total?a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"username",label:"姓名",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"300",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"电话",width:"250",align:"center"}}),a("el-table-column",{attrs:{label:"用户状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.setType(t.row)}},model:{value:t.row.mg_state,callback:function(a){e.$set(t.row,"mg_state",a)},expression:"scope.row.mg_state"}})]}}],null,!1,3201229839)}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",plain:""},on:{click:function(a){return e.edit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",plain:""},on:{click:function(a){return e.remove(t.row.id)}}},[e._v("删除")]),a("el-button",{attrs:{type:"warning",icon:"el-icon-user",plain:""},on:{click:function(a){return e.roleEdit(t.row)}}},[e._v("角色")])]}}],null,!1,2674656292)})],1):e._e(),a("paginationPage",{attrs:{total1:e.total,pagenum1:e.pagenum,pagesize1:e.pagesize},on:{pageChange:e.pageChangeFn}})],1),a("edit",{ref:"editoradd"})],1)},r=[],s=(a("96cf"),a("1da1")),i=a("c24f"),o=a("39d1"),c=a("469b"),u={name:"users",data:function(){return{searchvalue:"",tableData:[],total:0,pagenum:1,pagesize:3}},components:{edit:c["default"],paginationPage:o["a"]},methods:{getUserList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["d"])({pagenum:e.pagenum,pagesize:e.pagesize,query:e.searchvalue});case 2:a=t.sent,200===a.data.meta.status?(e.tableData=a.data.data.users,e.total=a.data.data.total,e.pagenum=a.data.data.pagenum):e.$message.error(a.data.meta.msg);case 4:case"end":return t.stop()}}),t)})))()},setType:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(i["g"])(e.id,e.mg_state);case 2:n=a.sent,200===n.data.meta.status?1===n.data.data.mg_state?t.$message.success("启用成功"):t.$message.success("禁用成功"):t.$message.error(n.data.meta.msg);case 4:case"end":return a.stop()}}),a)})))()},pageChangeFn:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.pagesize=e.pagesize,t.pagenum=e.pagenum,t.getUserList();case 3:case"end":return a.stop()}}),a)})))()},add:function(){this.$refs.editoradd.dialogFormVisible=!0,this.$refs.editoradd.fromkey="add"},edit:function(e){this.$refs.editoradd.dialogFormVisible=!0,this.$refs.editoradd.fromkey="edit",this.$refs.editoradd.formdata=JSON.parse(JSON.stringify(e))},remove:function(e){var t=this;this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(i["e"])(e);case 2:n=a.sent,200===n.data.meta.status?(t.$message.success(n.data.meta.msg),1==t.tableData.length&&(t.pagenum-=1),t.getUserList()):t.$message.error(n.data.meta.msg);case 4:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},roleEdit:function(e){this.$refs.editoradd.dialogFormVisible=!0,this.$refs.editoradd.fromkey="role",this.$refs.editoradd.formdata=JSON.parse(JSON.stringify(e))}},created:function(){this.getUserList()}},l=u,g=a("2877"),d=Object(g["a"])(l,n,r,!1,null,"2acca181",null);t["default"]=d.exports},b139:function(e,t,a){"use strict";var n=a("ecb0"),r=a.n(n);r.a},ecb0:function(e,t,a){}}]);