(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1a9c4f0"],{"0bd0":function(e,t,r){},2267:function(e,t,r){"use strict";var a=r("0bd0"),s=r.n(a);s.a},"9ed6":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm(t)}}},[r("el-card",{staticClass:"loginbox"},[r("h2",{style:{margin:"0 0 20px 0"}},[e._v("用户登录")]),r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{type:"text"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"password"}},[r("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",[r("el-button",{style:{width:"100%",height:"50px"},attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("登录")])],1)],1)],1)],1)},s=[],n=(r("96cf"),r("1da1")),u=r("b775");function o(e){return Object(u["a"])({url:"/login",method:"post",dataType:"html",data:e})}function i(){return u["a"].get("menus")}var c=r("a18c"),m=r("c57c"),l=r("5308"),d={data:function(){return{ruleForm:{username:"admin",password:"123456"},rules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{getUserRights:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:r=t.sent,200==r.data.meta.status?(e.$store.commit("setUserRightTree",r.data.data),Object(l["c"])("userRightsTree",JSON.stringify(r.data.data)),e.$message.success("登录成功"),Object(c["b"])(),e.$router.push("/home")):e.$message.error(r.data.meta.msg);case 4:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,o(e.ruleForm);case 4:a=t.sent,200===a.data.meta.status?(e.$store.commit("setUserInfo",a.data.data.token),Object(m["c"])("token",a.data.data.token),e.getUserRights()):e.$message.error(a.data.meta.msg);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},p=d,f=(r("2267"),r("2877")),g=Object(f["a"])(p,a,s,!1,null,"6b84dade",null);t["default"]=g.exports}}]);