(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-510f4ae3"],{"86ca":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit"},[a("el-dialog",{attrs:{title:"add"==t.type?"添加商品分类":"编辑商品分类",visible:t.dialogFormVisible,center:!0},on:{"update:visible":function(e){t.dialogFormVisible=e},closed:t.clearfrom}},[a("el-form",{ref:"editForm",attrs:{rules:t.rules,model:t.formData,"label-width":"150px","status-icon":""}},[a("el-form-item",{attrs:{label:"分类名称",prop:"cat_name"}},[a("el-input",{model:{value:t.formData.cat_name,callback:function(e){t.$set(t.formData,"cat_name",e)},expression:"formData.cat_name"}})],1),"add"==t.type?a("el-form-item",{attrs:{label:"所属分类"}},[a("cascaderCom",{ref:"categoriesCas",attrs:{casOption:t.options,casDataType:t.dataType},on:{clickValue:t.casChange}})],1):t._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v("确 定")])],1)],1)],1)},r=[],c=a("5530"),o=(a("96cf"),a("1da1")),i=a("c40e"),s=a("aa34"),u=0,d=0,l={name:"categoriesEdit",components:{cascaderCom:s["a"]},props:["type"],data:function(){return{dialogFormVisible:!1,formData:{},options:[],dataType:{expandTrigger:"hover",label:"cat_name",value:"cat_id",text:"默认一级分类",checkStrictly:!0,show:!0},rules:{cat_name:[{required:!0,message:"分类名称不能为空",trigger:"blur"}]}}},methods:{clearfrom:function(){this.formData={},"add"==this.type&&(this.$refs.categoriesCas.addValue=[],u=0,d=0),this.$refs.editForm.resetFields()},send:function(){var t=this;this.$refs.editForm.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(n="","add"!=t.type){e.next=11;break}return t.$set(t.formData,"cat_pid",u),t.$set(t.formData,"cat_level",d),e.next=8,Object(i["b"])(t.formData);case 8:n=e.sent,e.next=14;break;case 11:return e.next=13,Object(i["h"])(Object(c["a"])({},t.formData));case 13:n=e.sent;case 14:201===n.data.meta.status||200===n.data.meta.status?(t.$message.success(n.data.meta.msg),t.dialogFormVisible=!1,t.$emit("updateList")):t.$message.error(n.data.meta.msg);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getCategoriesList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("add"!=t.type){e.next=5;break}return e.next=3,Object(i["j"])("2");case 3:a=e.sent,200==a.data.meta.status&&(t.options=a.data.data);case 5:case"end":return e.stop()}}),e)})))()},casChange:function(t){u=t[t.length-1],d=t.length}},watch:{dialogFormVisible:function(t){return"add"==this.type&&this.getCategoriesList(),t}}},f=l,p=a("2877"),m=Object(p["a"])(f,n,r,!1,null,null,null);e["default"]=m.exports},"99af":function(t,e,a){"use strict";var n=a("23e7"),r=a("d039"),c=a("e8b5"),o=a("861d"),i=a("7b0b"),s=a("50c4"),u=a("8418"),d=a("65f0"),l=a("1dde"),f=a("b622"),p=a("2d00"),m=f("isConcatSpreadable"),g=9007199254740991,b="Maximum allowed index exceeded",h=p>=51||!r((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),v=l("concat"),y=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:c(t)},w=!h||!v;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,a,n,r,c,o=i(this),l=d(o,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(c=-1===e?o:arguments[e],y(c)){if(r=s(c.length),f+r>g)throw TypeError(b);for(a=0;a<r;a++,f++)a in c&&u(l,f,c[a])}else{if(f>=g)throw TypeError(b);u(l,f++,c)}return l.length=f,l}})},aa34:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.casOption?a("el-cascader",{ref:"myCas",attrs:{options:t.casOption,props:t.casDataType,placeholder:t.casDataType.text,"show-all-levels":t.casDataType.show,clearable:""},on:{change:t.handleChange},model:{value:t.addValue,callback:function(e){t.addValue=e},expression:"addValue"}}):t._e()},r=[],c={props:["casOption","casDataType","casValue"],data:function(){return{addValue:[]}},methods:{handleChange:function(t){this.$emit("clickValue",t)}},watch:{casValue:function(t){this.addValue=t}}},o=c,i=a("2877"),s=Object(i["a"])(o,n,r,!1,null,null,null);e["a"]=s.exports},c40e:function(t,e,a){"use strict";a.d(e,"l",(function(){return c})),a.d(e,"m",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"i",(function(){return s})),a.d(e,"e",(function(){return u})),a.d(e,"j",(function(){return d})),a.d(e,"k",(function(){return m})),a.d(e,"d",(function(){return g})),a.d(e,"g",(function(){return b})),a.d(e,"a",(function(){return h})),a.d(e,"f",(function(){return p})),a.d(e,"b",(function(){return l})),a.d(e,"h",(function(){return f}));a("99af");var n=a("5530"),r=a("b775");function c(t){return r["a"].get("goods",{params:Object(n["a"])({},t)})}function o(t){return r["a"].get("goods/".concat(t))}function i(t){return r["a"].post("goods",Object(n["a"])({},t))}function s(t){return r["a"].put("goods/".concat(t.id),Object(n["a"])({},t))}function u(t){return r["a"].delete("goods/".concat(t))}function d(t){return r["a"].get("categories",{params:{type:t}})}function l(t){return r["a"].post("categories",Object(n["a"])({},t))}function f(t){return r["a"].put("categories/".concat(t.cat_id),Object(n["a"])({},t))}function p(t){return r["a"].delete("categories/".concat(t))}function m(t){return r["a"].get("categories/".concat(t.id,"/attributes"),{params:Object(n["a"])({},t)})}function g(t){return r["a"].delete("categories/".concat(t.id,"/attributes/").concat(t.attrid))}function b(t){return r["a"].put("categories/".concat(t.cat_id,"/attributes/").concat(t.attr_id),Object(n["a"])({},t))}function h(t){return r["a"].post("categories/".concat(t.cat_id,"/attributes"),Object(n["a"])({},t))}}}]);